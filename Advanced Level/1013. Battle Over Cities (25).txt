5 6 5
1 2
1 3
1 4
1 5
2 3
3 5
1
2
3
4
5
#include<iostream>
#define INF 10000000
#define MAX 1005
using namespace std;

int hw[MAX][MAX];
int visit[MAX];
int counts=0;
int n,m,k;
int theCity;
void dfs(int city)
{
	visit[city]=1;
	//printf("%d ",city);
	int i;
	for(i=1;i<=n;++i)
	{
		if(hw[city][i]==1&&visit[i]==0)
			break;
	}
	if(i==n+1)
		return ;
	for(int j=1;j<=n;++j)
	{
		if(hw[city][j]==1&&visit[j]==0)
		{
			if(city==theCity)
				counts++;
			dfs(j);
			//visit[city]=0;
		}
	}
}
int main()
{

	cin>>n>>m>>k;
	for(int i=0;i<m;++i)
	{
		int x,y;
		cin>>x>>y;
		hw[x][y]=1;
		hw[y][x]=1;
	}
	for(int i=0;i<k;++i)
	{
		cin>>theCity;
		counts=0;
		for(int j=1;j<=n;++j)
			visit[j]=0;
		dfs(theCity);
		cout<<counts-1<<endl;
	}
	return 0;
}